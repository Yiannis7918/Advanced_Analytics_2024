{"aid": "40011762", "title": "Wiring Your House for Networking", "url": "https://saagarjha.com/blog/2024/04/12/wiring-your-house-for-networking/", "domain": "saagarjha.com", "votes": 13, "user": "ingve", "posted_at": "2024-04-12 12:23:30", "comments": 0, "source_title": "Wiring Your House for Networking", "source_text": "Wiring Your House for Networking\n\n#\n\nWiring Your House for Networking\n\nFriday, April 12, 2024\n\nYou won\u2019t know it from reading my about page, but I no longer live in\nCupertino. I haven\u2019t updated that for years\u2013I don\u2019t spend much time in\nSouthern California anymore either. I should probably get around to changing\nit someday.\n\nOf course, where I live now isn\u2019t the topic of this blog post\u2013it\u2019s San Jose by\nthe way\u2013but rather that I\u2019ve moved to a new house, where I can set up my home\nnetwork the right wayTM. There\u2019s not too much I can do about my ISP (though I\ndo have fiber now, which is nice except for the part where I sell my soul to\nAT&T). However, everything between the modem box and my computer is something\nI control, and I\u2019ll be damned if I fail to take advantage of any of the\nsymmetric gigabit I\u2019m paying for. So I did what tech nerds with too much free\ntime on their hands do: I paid to make the problem go away. In this case, this\ntook the form of putting Category 6 cables in the walls. Think of this as the\ndummies guide to home networking, from someone who was a dummy when he started\nand ended up as a dummy with some 10 gigabit backbone.\n\n## Background\n\nA general rule of thumb for networking is that wires are always better than\nwireless. There are exceptions\u2013which we\u2019ll get to\u2013but if you want something to\nbe fast, then you should generally run a direct line as far as you can. Of\ncourse, you\u2019re not going to plug a Lightning-to-Ethernet into your iPhone (you\ncan literally buy anything on the internet). But if you\u2019re sitting at your\ndesk, as I do for most of my day, you can deal with a few wires. And you\ngenerally want wires to go between your networking equipment too. Those sleek\nplug-and-play wireless mesh APs? Those are basically always a scam. Seriously,\ndon\u2019t buy them unless you really don\u2019t care about your networking speeds.\nYou\u2019ll get much better performance if you run a direct line between them.\n\nNote\n\nWe\u2019re getting to dedicated backhaul antennas, hold your horses.\n\nAt the time of writing this, networking is on a precipice where things are\ngoing to get a little strange really soon. But historically, things have been\nvery clear, and since that\u2019s mostly still true today we can start there.\n\nWhen it comes to networking, wires are fast and cheap. Today you can get\ncopper Cat6 cable, which does 10 gigabits/s for any reasonable length you\u2019d\nhave in your house, for pennies per meter. You can even splurge on Cat6a or\nCat7 (I have a vague feeling that these are like not standard, so I kind of\navoid them?) for maybe twice the price. Cat8 has a shorter length limit (but\nstill probably good enough for most houses) and is supposed to do 40 Gbps or\nsomething and you can find it for just a tiny bit more.\n\nWireless, on the flip side, has basically always been slower than wires, more\nexpensive, and definitely more temperamental. Wi-Fi 6, which is starting to\nget solid adoption on good hardware (think laptops, tablets: your IoT is going\nto be cursed to 802.11b/g forever...) has some insane \u201ctheoretical\u201d speed but\non a good day might give you several hundred megabits if you are within a room\nor two of your AP. Of course, if you move further away or the phase of the\nmoon isn\u2019t right you might see much less than that. If you want to go for Wi-\nFi 6e or Wi-Fi 7 (which is just starting to enter the market) you\u2019re going to\nbe paying a pretty penny and be restricted to exclusively picking from the\nhigh end of everything.\n\nThis has basically been the case for the last several decades, so what\u2019s going\non today, in 2024?\n\n### New updates\n\nFor years, networking basically just got better, and everyone used the same\nwires. We went from 10BASE-T to 100BASE-TX to 1000BASE-T and all of it worked\non Cat5 cable if you were careful. If you wanted to play it safe or do a long\nrun then you could go for Cat5e, which for a lot of cables is just \u201csike! We\nactually made the Cat5 cable a little better than required and it happens to\nbe Cat5e!\u201d. Cat6 pushes you from 2.5 Gbps to 10 Gbps carrying 10GBASE-T, and\nso on. All of these were typically pure copper cables that you could get for\nbasically nothing.\n\nThis is not how high-speed networking is done these days. People who care\n(think Google, or your local crazy networking nerd) are all on fiber. They\ndon\u2019t use RJ45 8P8C, they have SFP+ adapters that can do 100 Gbps. I don\u2019t\nfully understand the history here, but it turns out all the hardware that\nworks directly with copper gets really hot or something. Or maybe nobody\nbothered to make good ASICs for this stuff yet? But what it means is that\nswitches are typically massive, run hot, and are at least 2-3x more expensive\nif you go for 2.5 Gbps and 5x more expensive at 10 Gbps. Similarly, everyone\nputs 1 GbE ports on their hardware but very few things will come with 2.5 Gbps\nor 10 Gbps Ethernet ports. Sometimes this means you get very silly products\nlike this that advertise networking speeds based on their wireless\ncapabilities that it is literally impossible to feed into the device because\ntheir wired ports don\u2019t go fast enough. But you have to be careful with even\n\u201cprosumer\u201d hardware these days: many of them will still offer just a gigabit\ninterface.\n\nOverall, this actually means that if you want a network that regularly goes\nover a gigabit now, you should probably start looking at fiber. The costs\nactually start to become comparable as you up your speeds. On the flip side, I\nthink unless we see major changes in copper wireless is actually going to\ncross it in a few years, as annoying as that will be. Most of the other\nproblems with it with regards to reliability will stay, but it will actually\nprobably be cheaper to just beam your network connections over a Wi-Fi 8\nbackhaul or something rather than upgrade all your hardware to 10 Gbps. Early\nwireless mesh systems would cut into your bandwidth to relay your data, but\nnew ones almost invariably keep a high-quality dedicated antenna for this\npurpose. So maybe those will be the strategy for casual prosumers moving\nforward.\n\n## My plan\n\nSo with that said, why did I go for Cat6 in my house? Well, for one, I don\u2019t\nhave hardware that does better than gigabit speeds. Almost everything just\ndoesn\u2019t have 2.5 or 10 GbE ports, or uses a Wi-Fi standard that can\u2019t push\nbeyond that. While my old house didn\u2019t have Ethernet wired in the walls, I was\nactually fortunate enough to have a MoCA setup that gave me a 2.5 Gbps\nbackbone that I had a bunch of gigabit switches set up on top of. So I am just\nreusing all of those in the new house too. Plus, while I can get faster\ninternet now from my ISP (up to 5 Gbps!) I don\u2019t really want to pay for it yet\n($$$!).\n\nHowever, the real reason\u2013and one I don\u2019t actually hear very often\u2013is that my\nwires are actually explicitly not meant to be \u201cfuture-proof\u201d. Of course they\nare to some extent\u2013I went for Cat6 instead of Cat5e because it was barely any\nmore expensive, and provided plenty of headroom if I ever do update my\nswitches and hardware over the next several years\u2013but it\u2019s a little more\ncomplicated than that. But it\u2019s not actually the only thing I\u2019m thinking of\nhere, and for that it\u2019s important to go over the actual installation process.\n\n### Installation details\n\nGoing into this projct, I had basically no idea how people put wires in walls.\nIt turned out a lot simpler than I expected, though. At a high level, you need\nto do the following:\n\n  1. Plan where you want your cables to go. Make sure you have good coverage of your house. Keep in mind that just because you have Ethernet in a room doesn\u2019t necessarily mean it is where you want it to be: unless you want an unsightly cable running across your room, you may need to think about where specifically to place the drop in the room. Depending on your house, you might run your cables through the crawlspace, attic, or outside the house. Try to avoid super long runs for no reason.\n  2. Buy supplies. Namely:\n\n     * Your Ethernet cable. In my house I ran it through the crawlspace. If you want to pay a bunch extra you can go for \u201cplenum\u201d (roughly, if you run the cable through a place with airflow, it is not supposed to poison you with toxic gas when it catches fire, but you probably aren\u2019t running your cables in ducts) or \u201cshielded\u201d (what it sounds like but I don\u2019t think I need it) but to my knowledge it doesn\u2019t really matter here and it will double your price so I saw no need to go for it.\n     * Keystones. If you aren\u2019t familiar with these (as I was) think \u201cFramework laptop ports, but for your walls\u201d. You get an Ethernet female jack and it will go into a mounting slot that can fit any keystone adapter. They\u2019re really neat actually, and look clean and professional.\n     * A wall plate with keystone holes in it. The most cost-effective way to wire your house is likely to have one central point where all the wires meet and then run a line to each room, so you probably want say one 6/12 port plate and 1-2 port plates everywhere else. Grab a couple of \u201cblank\u201d keystones while you\u2019re at it to fill in the holes you\u2019re not using.\n     * Low-voltage boxes. These go into the holes you cut in the walls and basically give the wall plate something to attach to instead of the empty space behind the drywall.\n     * Wire cutters/strippers. You\u2019ll need this for the cables, obviously.\n     * Punch-down tool. When you wire the cable you need to basically take each twisted pair in the wire and thread it into the keystone jack in a specific order (in a certain order, of course. I picked T568B for what it\u2019s worth, but it literally does not matter). You should watch a video on how to do this but the punch-down tool makes it far, far easier. Also grab a keystone jack holder while you\u2019re at it.\n     * Cable tester. You can find a cheap one for like $10. You don\u2019t need this but it will make you feel better that each contact is solid.\n  3. Figure out if you want someone to do the dirty work for you. I just paid someone to run the cables, because we already had someone in the crawlspace wiring up the car charger, which I absolutely will not touch. If not, you probably need to buy supplies and learn how to make holes in your walls, apply patch-up paint, overcome your fear of spiders under the house, etc.\n  4. Run all the cable. Leave a couple feet on each end so you can terminate the wires. Especially if you mess up you want extra length cut your losses (literally, just snip off the failed try) and do it again. You\u2019ll push the extra into the walls anyways.\n  5. Terminate everything and test it before closing things up. At the central point where you have all the wires coming in you probably want to label all the wires :)\n  6. Once everything works, put all the plates in and clean up.\n\nThis is a decent amount of work (it took the better part of a day) but\nsurprisingly it\u2019s not that expensive, comparatively. You can get all these\nsupplies for like $100. You can pay someone to run the cables for a few\nhundred dollars. This actually means that you don\u2019t have to future-proof as\nhard as people tell you! Sure, it\u2019s a little more work than clicking a button\non Amazon and setting up an app, but cost-wise it\u2019s comparable to replacing\nany other part of your networking hardware. I\u2019ve spent more over the last few\nyears on routers, adapters, and the like.\n\n## Looking forward\n\nWith all that, I get what I wanted: gigabit speed from basically anywhere in\nthe house if I plug in. And I\u2019ve placed the ports in choice locations so that\nI can directly wire some extra APs into the backbone to get good wireless\ncoverage, which I\u2019m really pleased with. For now, and the forseeable future, I\nthink this is more than enough for my needs.\n\nAfter that, though, it\u2019s more complicated. The lines I put in are Cat6 so they\ncan do 10 Gbps, assuming the right hardware on both ends. As I mentioned\nearlier, that hardware doesn\u2019t seem to exist today, and it\u2019s not clear if it\nwill be forthcoming. If it does start rolling out, I can upgrade\npiecemeal\u2013starting with the most critical equipment first, like my router and\ncore switches\u2013and the new wiring will truly be \u201cfuture proof\u201d for probably a\ndecade or two.\n\nAnother option is that high-speed wired networking over copper never really\ntakes off. It remains expensive and unpopular, and consumers basically all\nvote for faster wireless instead. In that case I think I\u2019ll just keep using\nthe wires for as long as feasible and then update to wireless, as unpleasant\nas it will feel. To that end, I\u2019ll probably get less than a decade of use out\nthe cabling\u2013but that\u2019s basically on par with the rate at which I spend on\nnetworking anyways, so I don\u2019t feel too bad about it.\n\nFinally, it might be that the future is still wired (over fiber, or something\nelse...), which still means my Cat6 wasn\u2019t the best decision. I definitely\ncould have put in fiber right now, but it\u2019s a bit more fiddly to work with and\nI just wasn\u2019t comfortable with it yet. I see nothing wrong with going back in\n10 years from now and putting in fiber, though. I\u2019ll definitely be more\nconfident about doing something like that, now that I know how to e.g. make\nholes in my walls and can focus on the fiber part specifically. Or, depending\non the circumstances, the Cat6 might see a new life as a convenient transport\nthat I equip with adapters on both ends for whatever the new technology is.\nThose MoCA adapters I was using in the old house? That\u2019s basically what those\nare, except they run data over coaxial cable I have no use for but happens to\nbe convenient to reuse because it\u2019s just there. And they\u2019re still in use,\nbecause they go to one part of my house hard to lay Ethernet cable to, which\nmeans there will always probably be some sort of conversion somewhere\nregardless of what new wiring I do.\n\nQuestions? Comments? Corrections? Feel free to reach out to me at\nsaagar@saagarjha.com; I'd love to hear your thoughts!\n\n", "frontpage": true}
