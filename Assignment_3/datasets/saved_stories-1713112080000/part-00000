{"aid": "40030121", "title": "A Feat of Engineering", "url": "https://registerspill.thorstenball.com/p/a-feat-of-engineering", "domain": "thorstenball.com", "votes": 1, "user": "ingve", "posted_at": "2024-04-14 10:27:21", "comments": 0, "source_title": "A Feat of Engineering", "source_text": "A Feat of Engineering - by Thorsten Ball - Register Spill\n\nShare this post\n\n#### A Feat of Engineering\n\nregisterspill.thorstenball.com\n\n#### Discover more from Register Spill\n\nThoughts about software engineering I can't keep in my head. Too ephemeral for\nblog posts, too long for social media. It's the messages I'd sent if you'd\nasked me what's on my mind.\n\nOver 2,000 subscribers\n\nContinue reading\n\nSign in\n\n# A Feat of Engineering\n\nThorsten Ball\n\nApr 14, 2024\n\n4\n\nShare this post\n\n#### A Feat of Engineering\n\nregisterspill.thorstenball.com\n\n3\n\nShare\n\nWhenever I talk with programmer friends about Apple I try to sneak the\nfollowing story in. Usually I start with \u201cdid you know that Apple...?\u201d and end\nby leaning back in the chair, my index finger pointing at the table, and me\nsaying \u201c... now that\u2019s engineering.\u201d\n\nIn 2017 Apple released iOS 10.3. A minor release that didn\u2019t include any major\nfeatures but something else:\n\n> Apple is actually undertaking a pretty huge shift for all iPad and iPhone\n> users today. Within iOS 10.3, Apple is moving supported devices to its new\n> Apple File System (APFS).\n\nThe Verge also noted:\n\n> Most iPhone and iPad users won\u2019t notice a difference after today\u2019s iOS 10.3\n> update\n\nLet that sink in.\n\nThey shipped an update that migrates the file system of \u201call iPad and iPhone\nusers\u201d \u2014 already hundreds of millions in 2017 \u2014 and \u201cuser\u2019s won\u2019t notice a\ndifference.\u201d\n\nShipping a file system migration that users won\u2019t even notice, over night,\nsilently, to hundreds of millions of devices.\n\nAutomatic file system migration of hundreds of millions of devices.\n\nI don\u2019t know, maybe I get nervous just thinking about having to program a\nmigration like that because my personal success rate with file system changes\nisn\u2019t the greatest. Multiple times in the past I\u2019ve accidentally destroyed\nLinux and Windows installations by messing something up on the CLI. But\npersonal clumsiness aside: whenever you touch the file system you have to\nacknowledge there\u2019s a very real chance you brick your machine. It doesn\u2019t get\na lot more load-bearing than the file system.\n\nObviously there are differences between 15-year-old me messing up an mkfs\ncommand and a team at Apple writing a file system migrator: for one, they know\nwhat a file system actually is, but they also wrote the new file system, have\nexperience migrating from the old to the new one, probably test their migrator\nfor multiple months on hundreds or thousands of testing devices, have\nexcellent tooling for such migrations, and can lean on the experience that\nApple as a company has with automatically updating iOS devices.\n\nIn other words: they\u2019re pretty good at what they\u2019re doing and chances that\ntheir file system migration would end up bricking devices were probably very,\nvery slim. Near zero, possibly zero.\n\nBut, still. Take near-zero and multiply it with hundreds of millions and I ask\nyou: would you click the button that rolls out that update? How much testing\nwould you want to do before you press it? How many test devices? How many\ndifferent configurations? I don\u2019t know how to answer these questions with\nanything except \u201ca lot\u201d, but I do know this: more than sweat would leave my\nbody before clicking that button.\n\nThey did click that button and the update rolled out and it migrated hundreds\nof millions of devices, over night, and as far as I know no device was bricked\nand only a few even noticed that something happened.\n\nNow that\u2019s engineering.\n\nYou should subscribe if this is the kind of stuff you like to talk about with\nfriends too:\n\n4 Likes\n\n4\n\nShare this post\n\n#### A Feat of Engineering\n\nregisterspill.thorstenball.com\n\n3\n\nShare\n\n3 Comments\n\nHassib Ashouri1 hr agoI recall the update at the time, but I don't recall if\nthe IOS 10 back then had the Files app. If the Files app was not a thing, that\nshould reduce some of the randomness because all the files are managed by the\napps or the OS.Did they push it to Macs first because the iPhones and\niPads?Expand full commentLikeReplyShare  \n---  \n  \n2 replies by Thorsten Ball and others\n\n2 more comments...\n\nTwo types of software engineers\n\nOne assumes it's easy because it's a non-technical problem, the other assumes\nthat's why it's hard\n\nApr 9, 2023 \u2022\n\nThorsten Ball\n\n50\n\nShare this post\n\n#### Two types of software engineers\n\nregisterspill.thorstenball.com\n\n14\n\nFrom 1s to 4ms\n\nSo zero-cost abstractions exist?\n\nFeb 17 \u2022\n\nThorsten Ball\n\n26\n\nShare this post\n\n#### From 1s to 4ms\n\nregisterspill.thorstenball.com\n\n8\n\nA Few Words on Testing\n\nOr: Losing Faith\n\nMar 16 \u2022\n\nThorsten Ball\n\n38\n\nShare this post\n\n#### A Few Words on Testing\n\nregisterspill.thorstenball.com\n\n6\n\nReady for more?\n\n\u00a9 2024 Thorsten Ball\n\nPrivacy \u2219 Terms \u2219 Collection notice\n\nStart WritingGet the app\n\nSubstack is the home for great culture\n\nShare\n\n## Create your profile\n\n## Only paid subscribers can comment on this post\n\nAlready a paid subscriber? Sign in\n\n#### Check your email\n\nFor your security, we need to re-authenticate you.\n\nClick the link we sent to , or click here to sign in.\n\n", "frontpage": false}
