{"aid": "39963768", "title": "AV1 Encoding on Linux with Intel Arc", "url": "https://interfacinglinux.com/2024/04/06/av1-on-linux-with-the-sparkle-a310-eco/", "domain": "interfacinglinux.com", "votes": 1, "user": "Venn1", "posted_at": "2024-04-07 20:47:58", "comments": 0, "source_title": "AV1 On Linux With The Sparkle A310 ECO", "source_text": "AV1 On Linux With The Sparkle A310 ECO \u2013 Interfacing Linux\n\n  *     *       * YouTube\n\n  *     *       * YouTube\n\n  * Home\n\n    * Audio Interfaces\n    * Audio Software\n    * Capture Cards\n    * Compatible Interfaces\n    * Single Board Computers\n    * Video Software\n  * Forum\n  * Login\n\nPC Hardware\n\n# AV1 On Linux With The Sparkle A310 ECO\n\n4 hours ago\n\nAdd comment\n\nAdd comment Cinema Mode\n\nRedditXFacebookEmail\n\nSparkle managed to cram an Intel Arc A310 into a 50W package. This got me\ninterested in seeing what it would take to set up AV1 encoding on Linux. But\nfirst, we must battle the low-profile bracket mini-boss.\n\n## DEBOXING\n\nIn the box, you\u2019ll find the GPU and a complimentary low-profile bracket.\nThat\u2019s it.\n\n## LOW-PROFILE BRACKET INSTALLATION\n\nNeed to install the low-profile bracket? Grab some paper towels and thermal\npaste! That\u2019s right, one of the three screws needed to remove the preinstalled\nbracket is located under the cooler.\n\nMaybe I\u2019m having a senior moment and someone in the comments will tell me I\u2019m\nan idiot, and on an unrelated note, point out a simpler way to remove the\nscrew?\n\nAnd yes, working around Sparkle\u2019s Audi-level engineering will void your\nwarranty sticker.\n\n## DRIVERS\n\nLike AMD\u2019s, Intel\u2019s binary drivers are a hot mess, but have the added benefit\nof only being compatible with one Linux distribution. The last update for\nthese drivers was way back in 2023, and you should set your expectations\naccordingly.\n\nAnd no, ArcTM Control is Windows only because reasons.\n\nFortunately, using the open-source drivers is a breeze. All you need is a\nrecent kernel and Mesa version.\n\nI installed the following packages on Debian Testing.\n\n    \n    \n    sudo apt install intel-media-va-driver-non-free firmware-linux-nonfree intel-opencl-icd mesa-vulkan-drivers\n\nUpdated to the latest firmware.\n\n    \n    \n    git clone https://github.com/intel-gpu/intel-gpu-firmware.git\n    \n    \n    cd intel-gpu-firmware\n    \n    \n    sudo mkdir -p /lib/firmware/updates/i915/\n    \n    \n    sudo cp firmware/*.bin /lib/firmware/updates/i915/\n    \n    \n    sudo update-initramfs -u -k all\n\nAnd added the user to the render group.\n\n    \n    \n    sudo gpasswd -a ${USER} render\n\n## UTILITIES\n\nThe closest thing to a monitoring option I found was a two-script setup called\nIntel Arc Monitor. One script provides basic information, while the other\noffers a more comprehensive view \u2013 unfortunately, neither includes fan\ncontrol.\n\nThe lack of fan control for ARC GPUs under Linux is a significant drawback.\nUnder load, the Sparkle A310 ECO sounds exactly like how you would imagine a\nsingle-slot, low-profile GPU with a blower fan would sound.\n\nAt idle, the Sparkle A310 ECO undergoes an unending off-on cycle that will\nrender you clinically insane after 20 minutes. Fortunately, Sparkle plans to\nfix this in a future update.\n\n## OBS AV1\n\nThe A310 flawlessly encoded video in OBS using the VAAPI AV1 encoder. It even\nfunctioned as an AV1 add-in with an NVIDIA system.\n\nHere\u2019s some sample of footage captured using VAAPI 264, VAAPI AV1, and X264 at\n1080p60 with a 6,000-bitrate.\n\nThis isn\u2019t a quality comparison, but rather a demonstration of functionality\nacross different encoders.\n\n## BLENDER\n\nI tried three versions of Blender and surprisingly, it wasn\u2019t having any of\nit. Even after installing oneAPI and intel compute stack.\n\n## DAVINCI RESOLVE\n\nWelcome to the \u201cwould have lost that bet\u201d segment!\n\nDaVinci Resolve started right up with A310, even utilizing OpenCL for GPU\nprocessing. My excitement was short-lived, though. Exiting the cut page caused\nResolve to freeze right the hell up.\n\nMaybe next time \ud83d\ude41\n\n## HANDBRAKE\n\nAV1 encoding worked out of the box using the Handbrake Nightly Flatpak.\n\nThe following chart shows the results from encoding a 1080p/60 clip using AV1\nSVT (AMD 5600G CPU) and AV1 QSV (Intel ARC A310 GPU).\n\nLower is better, unless you\u2019re getting paid by the hour.\n\n## BENCHMARKS?\n\nThe A310 isn\u2019t designed for gaming, but I wanted to see how it stacked up\nagainst the integrated graphics in my 5600G. These benchmarks are less about\nraw performance and more about basic functionality.\n\nNo 1% lows, no multiple resolutions, just good old-fashioned average frame\nrate.\n\nSuperposition\n\nFurmark\n\nTalos Principal\n\nShadow Of The Tomb Raider\n\nCyberpunk\n\n## TESTBENCH\n\nCPU| AMD Ryzen 5600G  \n---|---  \nRAM| Corsair Vengeance LPX 16GB  \nMotherboard| MSI B550M PRO-VDH  \nGPU| NA  \nStorage| Silicon Power 256GB NVMe  \nPSU:| EVGA 600 B1  \nFirewire:| StarTech PEX1394B3  \nNetwork:| Mellanox MCX311A-XCAT CX311A  \nOS:| Debian Testing  \nKernel:| 6.8 RT  \nMesa:| 23  \n  \n## SPECIFICATIONS\n\n  * Graphics Clock: 1000 MHz\n  * Xe-Core: 6\n  * Ray Tracing Units: 6\n  * Intel\u00ae XMX Engines: 96\n  * Xe Vector Engines: 96\n  * Memory Size: 4GB GDDR6\n  * Graphics Memory Interface: 64 bit\n  * Graphics Memory Bandwidth: 124 GB/s\n  * Graphics Memory Speed: 15.5Gbps\n  * PCI Express Configurations: PCI Express 4.0 x8\n  * TBP: 50 Watt\n  * 2x Mini DisplayPort (Max): 7680 x 4320@60Hz\n  * 1x HDMI 2.0b (Max): 4096 x 2160@60Hz\n\n## VERDICT\n\nThe A310 ECO offers a valuable function but lacks refinement. While the gaming\nperformance is negligible, the real draw of this card lies in its AV1 encoding\ncapabilities. Unfortunately, the shouty blower fan makes it unsuitable for\ndesktop use.\n\nHere\u2019s a suggestion for Sparkle: focus solely on the AV1 encoding\nfunctionality. Remove the video outputs entirely, and implement passive\ncooling for silent operation.\n\nWhen Twitch and YouTube finish rolling out AV1 ingest, the first company to\nmake an AV1 add-in card is going to make a lot of money.\n\nA streamlined version of the A310 ECO, optimized for AV1 encoding, could be a\nhit among streamers and media encoding enthusiasts.\n\n## SPARKLE Intel Arc A310 ECO\n\n6.6 out of 10\n\n$99\n\nThe A310 ECO offers a valuable function but lacks refinement.\n\nInstallability\n\n4 out of 10\n\nPerformance\n\n7 out of 10\n\nLook & Feel\n\n6 out of 10\n\nPrice\n\n9.5 out of 10\n\n### Pros\n\nOpen-source drivers\n\nGood price\n\nSmol\n\n### Cons\n\nWarranty voiding low-profile bracket\n\nLOUD\n\n### Shop For The Sparkle A310 ECO\n\nOn Amazon\n\nSome posts contain affiliate links. If you click on an affiliate link and\nlater make a purchase, I may receive a small commission. Money earned via\naffiliate links helps to keep this site up and running.\n\nHave questions about your Linux audio setup? Ask in our forums.\n\nARC AV1 HANDBRAKE Intel MESA\n\n#### VennStone\n\nView all posts\n\n#### You may also like\n\nVideo\n\nPC Hardware\n\n## Noctua NH-P1 Digital Audio Workstation\n\n2 weeks ago\n\n2 comments\n\nVennStone\n\n#### Add comment\n\n### Cancel reply\n\nYou must be logged in to post a comment.\n\n#### Categories\n\n  * Audio Interfaces9\n  * Audio Software13\n  * Capture Cards4\n  * PC Hardware2\n  * Single Board Computers1\n  * Video Software7\n\n#### Recent Posts\n\n  * RE: Studio One 6.6 is online\n\nDoes it still need Wayland?\n\nBy Jason , 3 days ago\n\n  * RE: Vivaldi not 100% for me\n\nI was unable to reproduce this with 6.6....\n\nBy VennStone , 3 days ago\n\n  * Linux Mixer for the RME Fireface UCX II\n\nBrowsing GitHub issues, I came across an...\n\nBy VennStone , 3 days ago\n\n  * Studio One 6.6 is online\n\nGang of Linux fixes in this one. Big one...\n\nBy VennStone , 4 days ago\n\n  * RE: Problems connecting Presonus Firebox\n\n@vennmints Thanks a lot.In case i will t...\n\nBy meganitro24 , 1 week ago\n\n  * RE: Problems connecting Presonus Firebox\n\nBest of luck with your project. I hope y...\n\nBy VennStone , 1 week ago\n\n  * RE: Problems connecting Presonus Firebox\n\nAnyways,i bought few days ago a new card...\n\nBy meganitro24 , 1 week ago\n\n  * RE: Problems connecting Presonus Firebox\n\n@vennmints My Firewire Card is installed...\n\nBy meganitro24 , 1 week ago\n\n  * RE: Problems connecting Presonus Firebox\n\nThe Presonus Firebox not being recognize...\n\nBy VennStone , 1 week ago\n\nFor the past decade, I\u2019ve been immersed in the world of Linux content\ncreation. This site is a culmination of things I\u2019ve picked up along the way.\nNeed help troubleshooting your setup? Head over to the forums and let\u2019s get\nthings working.\n\nForums\n\n#### Most Viewed\n\n## DaVinci Resolve 18 On Debian 12\n\n147 views\n\n## Noctua NH-P1 Digital Audio Workstation\n\n132 views\n\n#### Most Discussed\n\n## FireWire Audio Interfaces On Linux\n\n8 comments\n\n## MAGEWELL USB Capture HDMI Gen 2\n\n2 comments\n\n## Noctua NH-P1 Digital Audio Workstation\n\n2 comments\n\nCopyright \u00a9 2024 Interfacing Linux | Affiliate Disclosure\n\n", "frontpage": false}
