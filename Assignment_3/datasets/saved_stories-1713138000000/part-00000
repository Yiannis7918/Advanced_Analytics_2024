{"aid": "40032792", "title": "Show HN: Docker-boot \u2013 Run a system from RAM without LiveCD", "url": "https://github.com/purplesyringa/docker-boot", "domain": "github.com/purplesyringa", "votes": 5, "user": "purplesyringa", "posted_at": "2024-04-14 17:38:05", "comments": 0, "source_title": "GitHub - purplesyringa/docker-boot: Like `execve`, but for userspace", "source_text": "GitHub - purplesyringa/docker-boot: Like `execve`, but for userspace\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\npurplesyringa / docker-boot Public\n\n  * Notifications\n  * Fork 0\n  * Star 3\n\nLike `execve`, but for userspace\n\n### License\n\nWTFPL license\n\n3 stars 0 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# purplesyringa/docker-boot\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n0 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\npurplesyringaReword readme11ec892 \u00b7\n\n## History\n\n17 Commits  \n  \n### src\n\n|\n\n### src\n\n| Attempt to speedup copying to tmpfs  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| Change name  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| Add license  \n  \n### Makefile\n\n|\n\n### Makefile\n\n| Change name  \n  \n### README.md\n\n|\n\n### README.md\n\n| Reword readme  \n  \n## Repository files navigation\n\n# docker-boot\n\n> Like execve, but for userspace.\n\ndocker-boot replaces your current running system with an in-memory root\nfilesystem constructed from a Docker image.\n\nExample with GUI:\n\nDockerfile\n\n    \n    \n    FROM ubuntu RUN apt update RUN apt-get install -y software-properties-common && add-apt-repository ppa:mozillateam/ppa RUN DEBIAN_FRONTEND=noninteractive apt-get install -y sudo htop systemd sddm kde-plasma-desktop firefox-esr RUN useradd --create-home --shell /bin/bash --groups sudo --password \"$(perl -e \"print crypt('cutie', 'sa');\")\" --user-group purplesyringa RUN echo \"InputMethod=\" >/etc/sddm.conf\n    \n    \n    $ docker build . -t workstation <...> $ sudo docker-boot workstation /bin/systemd <The host system is shut down, Ubuntu with lightdm/KDE starts>\n\nExample without GUI:\n\nDockerfile\n\n    \n    \n    $ sudo docker-boot ubuntu /bin/bash -c \"mount -t proc proc proc; mount -t sysfs sys sys; exec bash -i\" <The host system is shut down, Ubuntu starts in single-user mode>\n\n(Or make systemd mount the filesystems for you if you're feeling adventurous.)\n\n## Building\n\nJust do make.\n\nYou're going to need docker, swapoff, tar, and dd installed.\n\n## Why?\n\n  1. I'm a Nix contrarian, so naturally I wanted something to be to Docker like NixOS is to Nix. docker-boot fills this niche.\n  2. Injecting into init is based, I've always wanted to do that; this project is my excuse.\n  3. If you need to move partitions on your boot disk, you probably want to run a system off RAM. This is typically accomplished by creating a tmpfs, debootstraping an OS into it, pivot_rooting and killing services that use the real disk. That's a bit ridiculous of a manual; this project attempts to reduce the gap.\n\n## About\n\nLike `execve`, but for userspace\n\n### Resources\n\nReadme\n\n### License\n\nWTFPL license\n\nActivity\n\n### Stars\n\n3 stars\n\n### Watchers\n\n1 watching\n\n### Forks\n\n0 forks\n\nReport repository\n\n## Releases\n\nNo releases published\n\n## Packages 0\n\nNo packages published\n\n## Languages\n\n  * C 99.6%\n  * Makefile 0.4%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": true}
