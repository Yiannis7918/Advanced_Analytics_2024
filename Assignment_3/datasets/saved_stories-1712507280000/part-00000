{"aid": "39959801", "title": "Wide Gamut Color in CSS with Display-P3", "url": "https://webkit.org/blog/10042/wide-gamut-color-in-css-with-display-p3/", "domain": "webkit.org", "votes": 2, "user": "tosh", "posted_at": "2024-04-07 10:26:24", "comments": 0, "source_title": "Wide Gamut Color in CSS with Display-P3", "source_text": "Wide Gamut Color in CSS with Display-P3 | WebKit\n\nWebKit\n\n# Wide Gamut Color in CSS with Display-P3\n\nMar 2, 2020\n\nby Nikita Vasilyev\n\n@_n12v\n\nDisplay-P3 color space includes vivid colors that aren\u2019t available in sRGB.\n\nCSS Color Module Level 4 introduced syntax to use Display-P3 color space on\nthe web:\n\n    \n    \n    color: color(display-p3 1 0.5 0)\n\nThe previously available syntax defined colors in sRGB color space. hsl(42,\n70%, 50%), rgb(3, 5, 11), #abc \u2014 all of these colors are in the sRGB color\nspace.\n\nDisplay-P3 is a superset of sRGB. It\u2019s around 50% larger:\n\nThe white line shows the edge of sRGB. Everything on its top right is\nDisplay-P3 colors not available in sRGB. Note how greens is greatly expanded\nwhile blues aren\u2019t nearly as much.\n\n### Browser support\n\nWebKit has had support for Display-P3 color since 2016 (r207442). The\nfollowing browsers support Display-P3 color:\n\n  * Safari on macOS Mojave and newer\n  * Safari on iOS 11 and newer\n\nWebKit is the only browser engine that supports Display-P3 color as of January\n2020.\n\n### Graceful degradation\n\nOne way to provide a fallback is to include the same property with the sRGB\ncolor before:\n\n    \n    \n    header { color: rgb(0, 255, 0); color: color(display-p3 0 1 0); }\n\nBrowsers other than WebKit currently parse color(...) as invalid value. CSS\nproperties with invalid values are ignored by the browsers.\n\nAlternatively, you can use @supports feature query. This is particularly\nuseful when defining variables with colors:\n\n    \n    \n    /* sRGB color. */ :root { --bright-green: rgb(0, 255, 0); } /* Display-P3 color, when supported. */ @supports (color: color(display-p3 1 1 1)) { :root { --bright-green: color(display-p3 0 1 0); } } header { color: var(--bright-green); }\n\n### Hardware support\n\n  * iPhone 7 and newer\n  * MacBook Pro (since 2016)\n  * iMac (since 2015)\n  * iPad Pro (since 2016)\n  * LG UltraFine 5K Display\n\nThere are also numerous devices that support Display-P3 color space but\ncurrently have no browsers that support Display-P3 in CSS:\n\n  * Google Pixel 2 XL\n  * Google Pixel 3\n  * HTC U11+\n  * OnePlus 6\n\nMore devices that support Display-P3 are listed on Wikipedia.\n\nHardware support can be detected with a media query in CSS:\n\n    \n    \n    @media (color-gamut: p3) { /* Do colorful stuff. */ }\n\nAnd JavaScript:\n\n    \n    \n    if (window.matchMedia(\"(color-gamut: p3)\").matches) { // Do colorful stuff. }\n\n### Web Inspector\n\nStarting Safari Technology Preview 97, Web Inspector includes P3-capable color\npicker:\n\nThe white line draws the edge sRGB color space. All colors on the top right of\nit are only available in Display-P3 color space.\n\nRight-clicking the color square shows an option to convert to sRGB color\nspace:\n\nWhen the color is within sRGB color space, \u201cConvert to sRGB\u201d menu item is\ndisplayed. When it outside \u2014 \u201cClamp to sRGB\u201d.\n\nWeb Inspector also includes context menus to convert sRGB colors to\nDisplay-P3:\n\n### Closing thoughts\n\nCSS has syntax to define colors in Display-P3 color space, which includes\nvivid colors previously not available in sRGB. Many modern displays cover 100%\nof the P3 color standard. Web Inspector now includes P3-capable color picker.\n\nYou can start using Display-P3 colors on your websites and web views today. It\nonly takes a couple of lines of code to provide a backward compatible sRGB\ncolor.\n\nIf you have any feedback, reach me out on Twitter. You can also send general\ncomments to the @webkit Twitter account.\n\n### Further reading\n\n  * Improving Color on the Web post by Dean Jackson\n  * Colour management post series by Marc Edwards\n\nNote: Learn more about Web Inspector from the Web Inspector Reference\ndocumentation.\n\nNextRelease Notes for Safari Technology Preview 102Learn more\n\nPreviouslyRelease Notes for Safari Technology Preview 101Learn more\n\n", "frontpage": false}
