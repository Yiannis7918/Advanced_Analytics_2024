{"aid": "40020402", "title": "How to Determine the Error of an Air Quality Sensor?", "url": "https://www.airgradient.com/blog/how-to-determine-error-of-sensor/", "domain": "airgradient.com", "votes": 1, "user": "ahaucnx", "posted_at": "2024-04-13 04:06:44", "comments": 0, "source_title": "How to Determine the Error of an Air Quality Sensor?", "source_text": "How to Determine the Error of an Air Quality Sensor?\n\nWe use cookies on this website to give you the best experience. To find out\nmore, read our Privacy Policy.\n\n# How to Determine the Error of an Air Quality Sensor?\n\nby Anika Krause\n\nA useful tool to understand the accuracy of a sensor is its average error. It\ndescribes how far a sensor measurement deviates from the true value. For\ninstance, if a temperature sensor has an average error of 2\u00b0C and measures\n15\u00b0C, the real temperature lies probably somewhere between 13\u00b0C and 17\u00b0C. The\nlower the average error, the better the sensor performance. There are two\nparameters that are often used to quantify this: the Mean Absolute Error and\nthe Root Mean Square Error. The following article will explain both parameters\nusing illustrative examples.\n\n#### Mean Absolute Error (MAE)\n\nThe MAE is the average absolute difference between a measurement of a sensor\nand the true value (reference measurement).\n\nMore scientifically expressed, the equation looks like this:\n\nc_sens: Air pollutant concentration measured by sensor c_ref: Air pollutant\nconcentration measured by reference measurement (true value) n: Number of\nmeasurements\n\n#### Why Absolute?\n\nThe two vertical bars in the equation indicate taking the absolute difference\nbetween the sensor measurement and the true value. This ensures that,\nregardless of whether the sensor reading is higher or lower than the true\nvalue, the difference is always positive. Why this is so important is\nillustrated in Figure 1: The sensor (in black) sometimes registers values\nbelow and sometimes above the true value (in red). Consequently, the\ndifference between the two measurements alternates above and below 0, as shown\nin the second panel of Figure 1.\n\nCalculating the average of these differences, the negative and positive values\ncancel each other out, resulting in a very small error (0.2 \u03bcg/m3) which would\nmisleadingly indicate a high sensor accuracy. If we instead take the absolute\ndifferences, i.e., we convert all negative differences to positive values, we\nend up with an average error (MAE) of 9 \u03bcg/m3 which reflects reality much\nbetter.\n\nFigure 1: Top: (Fictive) example of a measurement from a PM sensor (black)\ncompared to the true PM concentration measured by a reference sensor (red).\nMiddle: Difference between the two measurements above with the dotted line\nindicating the average (= mean) difference. Bottom: Absolute difference\nbetween the two measurements above with the dotted line indicating the mean\nabsolute difference\n\n#### Root Mean Square Error (RMSE)\n\nInstead of taking the absolute value of the error, one can also square it to\nget positive values. If you average these squared errors and take the square\nroot of that average, you get the Root Mean Square Error (RMSE):\n\nDon\u2019t worry if you can\u2019t follow this calculation. The RMSE is most of the time\nvery similar to the MAE.\n\nDifference between RMSE and MAE\n\nBasically, both values give you the same information: the average error of a\nsensor. It\u2019s just that squaring the differences emphasizes larger errors, so\nthe RMSE is more sensitive to outliers than the MAE. Figure 2 illustrates this\ngraphically.\n\nFigure 2: (Fictive) Comparison of sensor measurements with (left) and without\noutliers (right). The bottom panels illustrate that the MAE and RMSE are very\nsimilar when outliers don\u2019t occur (Panel b). If the sensor measurements\ncontain outliers, the RMSE becomes significantly larger than the MAE (Panel\nd).\n\nThe RMSE is always the same or higher than the MAE and therefore a \u201cstricter\u201d\nmetric to assess the performance of a sensor. Therefore, AirGradient usually\nlooks at the RMSE to characterize its monitors. This selection is also in\naccordance with the testing guidelines of the United States Environmental\nProtection Agency.\n\nGood sensor vs. bad sensor\n\nLook at the two top panels of Figure 3. Which of the two sensors would you\nuse? Left or right? Most of you will probably pick the left sensor because its\nmeasurements are very close to the reference values (red line) whereas the\nright sensor is much \u201cfurther away\u201d from the red line. You intuitively see\nthat the left sensor is more accurate. So well chosen!\n\nThe RMSEs reflect this: Not surprisingly, the RMSE (i.e., the average error)\nof the left sensor is lower than the RMSE of the right sensor. The lower the\nRMSE, the better the sensor performance. A perfect sensor (that exactly\nmeasures the true concentrations of a pollutant) would have an RMSE of 0.\n\nFigure 3: PM_2.5 measurements of a relatively accurate (left) and a less\naccurate low-cost sensor (right). The top panels (a) and (c) show time plots\nof the PM_2.5 concentrations measured by a sensor (black), compared against\nthe \u201ctrue\u201d values measured by a reference sensor (red). The bottom panels (b)\nand (d) show time plots of the difference between the two measurements above.\nThe dotted line marks the RMSE.\n\n#### Normalized Root Mean Square Error (nRMSE)\n\nNow, which of the two sensors in Figure 4 would you use? Left or right?\nConsidering the RMSE, both sensors have pretty much the same error. Yet, you\nwould probably go for the right sensor, true? That\u2019s because this one has a\nlower relative error.\n\nHave a closer look at the pollution levels the two sensors in Figure 4 are\nexposed to. The particulate matter (PM) concentrations on the right are 10\ntimes higher than on the left. An RMSE (see lower panels) of ca. 7 \u03bcg/m3 has a\nmuch larger impact on the measurements in the less polluted environment. If we\njust looked at the RMSE, we would be misled to think that both sensors perform\nequally well. Here is where the nRMSE comes into play. It is useful for\ncomparing the performance of sensors across environments with different\npollution levels. It\u2019s less useful for temperature and humidity sensors.\n\nThe nRMSE is calculated by normalizing the RMSE, that means by dividing it by\nthe average (true) measurement value during the testing interval. In our\nexample, this would be the average PM concentration that was measured while\nthe sensor was tested. In the bottom of Figure 4 you can see the calculation\nof the nRMSE for the polluted and less polluted environment. The sensor in the\nless polluted environment has an nRMSE of 66%, indicating that its\nmeasurements were on average 66% off the true concentration. The sensor in the\npolluted environment was on average wrong by 6%. So, relatively speaking, the\nright sensor is more accurate than the left one.\n\nFigure 4: Comparison between sensor and reference measurement in a less\npolluted (left) and a more polluted environment (right; note the different\nscale of the y-axis). The nRMSE is calculated at the bottom.\n\n#### What\u2019s an acceptable error?\n\nYou can find target values for the performance of low-cost PM2.5 Air Sensors\nin the testing guidelines of the United States Environmental Protection Agency\n(US EPA). For 24h averaged data they recommend an RMSE of max. 7 \u03bcg/m3 or an\nnRMSE of max. 30% (either of the two criteria is sufficient to meet the\ntarget).\n\nSo it\u2019s okay when a sensor reading is 30% off the real value. Isn\u2019t that a\nlot?\n\nAll sensing methods, including the high standard reference-grade instruments,\nhave their limitations. If you compare two reference instruments, they should\nideally measure exactly the same, namely the true pollutant concentration. But\nthey don\u2019t: A study from the US-EPA co-located two commonly used reference\ninstruments (Met One BAM-1020 and Teledyne API T640) and found that, at\ncertain concentration ranges, they diverged by over 25% from each other.\n\nDon\u2019t get us wrong; reference-grade instruments remain the gold standard in\nair quality measurements. When operated correctly, they are more reliable and\naccurate than low-cost sensors. However, it\u2019s important to acknowledge that\nall measurements entail a degree of uncertainty. Low-cost sensors have many\nother advantages over reference-grade instruments e.g. their small size, easy\nsetup and maintenance, and their low costs of course. To be able to benefit\nfrom these advantages, a slightly lower accuracy is tolerated.\n\n#### Summary\n\n  * All parameters, MAE, RMSE and nRMSE, give information about the average error of a sensor, i.e. how far the sensor measurements are from the true value.\n  * The closer these values are to 0, the better the sensor performance.\n  * The RMSE is a \u201cstricter\u201d criterion because it is more sensitive to outliers.\n  * The relative error (e.g. nRMSE) is useful to compare the performance of sensors across environments with different pollution levels. It\u2019s less useful for temperature and humidity sensors.\n  * The US-EPA recommends the use of RMSE and nRMSE to characterize the average error of a sensor.\n  * For PM2.5, measurement deviations of up to RMSE = 7 \u03bcg/m3 or nRMSE = 30% are acceptable.\n  * Even measurements from reference-grade instruments have uncertainties.\n\n### Questions & Comments?\n\nIf you have any questions or comments on this topic? Head over to the\nAirGradient Forum for discussions.\n\nThis is an Ad for our Own Product\n\n## AirGradient Open Source Air Quality Monitors\n\nWe design professional, accurate and long-lasting air quality monitors that\nare open-source and open-hardware so that you have full control on how you\nwant to use the monitor.\n\nLearn More\n\n  * Manifesto\n  * Privacy Policy\n  * Terms and Conditions\n  * Partner Program\n  * API\n  * Integrations\n  * Dashboard\n  * For Educators\n  * Press / Influencers\n\n\u00a9 AirGradient Co. Ltd.\n\n", "frontpage": false}
