{"aid": "40033499", "title": "Linux 6.10 to Merge Driver for Emulating Windows NT Synchronization Primitives", "url": "https://www.phoronix.com/news/Linux-6.10-Merging-NTSYNC", "domain": "phoronix.com", "votes": 17, "user": "dralley", "posted_at": "2024-04-14 19:04:29", "comments": 5, "source_title": "Linux 6.10 To Merge NTSYNC Driver For Emulating Windows NT Synchronization Primitives - Phoronix", "source_text": "Linux 6.10 To Merge NTSYNC Driver For Emulating Windows NT Synchronization\nPrimitives - Phoronix\n\n  * Articles & Reviews\n  * News Archive\n  * Forums\n  * Premium Ad-Free\n  * Contact\n  * Popular Categories\n  * Close\n\n  * Articles & Reviews\n  * News Archive\n  * Forums\n  * Premium\n  * Contact\n  * Categories\n\nComputers Display Drivers Graphics Cards Linux Gaming Memory Motherboards\nProcessors Software Storage Operating Systems Peripherals\n\n# Linux 6.10 To Merge NTSYNC Driver For Emulating Windows NT Synchronization\nPrimitives\n\nWritten by Michael Larabel in Linux Gaming on 14 April 2024 at 10:09 AM EDT.\n21 Comments\n\nGoing through my usual scanning of all the \"-next\" Git subsystem branches of\nnew code set to be introduced for the next Linux kernel merge window, a very\nnotable addition was just queued up... Linux 6.10 is set to merge the NTSYNC\ndriver for emulating the Microsoft Windows NT synchronization primitives\nwithin the kernel for allowing better performance with Valve's Steam Play\n(Proton) and Wine of Windows games and other apps on Linux.\n\nThe past several months has seen much work on the NTSYNC kernel driver for\nallowing better Wine (Windows) gaming/app performance on Linux. The code has\ngone through several revisions and has shown very promising results:\n\nWine currently emulates the Windows API in user-space but the NT\nsynchronization primitives have been a hassle to properly emulate in user-\nspace and incurs significant performance overhead. But now with the NTSYNC\ndriver, the situation is a big improvement. The NTSYNC module provides kernel\nsupport for emulating of Windows NT synchronization primitives and is exposed\nas a misc character device by the kernel.\n\n> \"ntsync uses a misc device as the simplest and least intrusive uAPI\n> interface.\n>\n> Each file description on the device represents an isolated NT instance,\n> intended to correspond to a single NT virtual machine.\"\n\nThe driver currently provides NTSYNC_IOC_CREATE_SEM for matching the Windows\nNT system call of NtCreateSemaphore() and NTSYNC_IOC_SEM_POST for matching the\nNtReleaseSemaphore() behavior found on Windows. CodeWeavers' Elizabeth Figura\nhas been leading this effort with CodeWeavers collaborating with Valve and\nother stakeholders.\n\nIt was very exciting to see this morning that Greg Kroah-Hartman has queued\nthe NTSYNC patches into char/misc's char-misc-next branch. With the patches\nnow residing there, they will be submitted for the Linux 6.10 merge window\nopening up in May and then debuting as stable this summer -- barring any last\nminute issues or objections raised by Linus Torvalds.\n\nVery exciting year for Linux gamers with NTSYNC going mainline, ongoing work\naround HDR and other display improvements, and all of the Wayland advancements\nbeing made, among the usual Linux hardware support advancements and other\ncommon kernel milestones being seen in 2024.\n\n21 Comments\n\nRelated News\n\nProposed \"LibGodot\" Lets You Embed Godot Game Engine Into Other Apps\n\nOpenRazer 3.8 Brings Support For Newer Razer Devices On Linux\n\nSDL 3.0 Will Now Prefer PipeWire Over PulseAudio\n\nLutris 0.5.17 Game Manager Brings Bug Fixes, Library Syncing & New Runners\n\nSDL 2.30.2 Released Along WIth New SDL3 Preview\n\nSteam On Linux Use Increases - Moves Closer To 2%, AMD CPU Linux Use Hits 72%\n\nAbout The Author\n\nMichael Larabel is the principal author of Phoronix.com and founded the site\nin 2004 with a focus on enriching the Linux hardware experience. Michael has\nwritten more than 20,000 articles covering the state of Linux hardware\nsupport, Linux performance, graphics drivers, and other topics. Michael is\nalso the lead developer of the Phoronix Test Suite, Phoromatic, and\nOpenBenchmarking.org automated benchmarking software. He can be followed via\nTwitter, LinkedIn, or contacted via MichaelLarabel.com.\n\nPopular News This Week\n\nUbuntu Maker Canonical Announces New Collaboration With Qualcomm\n\nKDE On The Importance Of Wayland Explicit Sync\n\nx86-64-v5? Questions Arise Over The Future Of x86-64 Micro-Architecture\nFeature Levels\n\nArch Linux Increasing Its vm.max_map_count To Help Steam Play Games & Other\nSoftware\n\nGNOME Improving Integration With systemd-homed, Mockups For An OS Installer\n\nGentoo Linux Now An SPI Project\n\nKDE's KWin Merges Wayland Explicit Sync Support\n\nKDE Plasma 6 Can Now Sync Your RGB-Backlit Keyboard With Your Desktop's Accent\nColor\n\nLatest Linux News\n\nLinux 6.10 To Merge NTSYNC Driver For Emulating Windows NT Synchronization\nPrimitives\n\nAMD Prepares More Next-Gen GPU Driver Support For Linux 6.10\n\nProposed \"LibGodot\" Lets You Embed Godot Game Engine Into Other Apps\n\nOpenRazer 3.8 Brings Support For Newer Razer Devices On Linux\n\nLinux 6.9-rc4 To Bring New Fixes For x86 Speculation Mitigations\n\nLinux 6.10 To Account For NUMA Node When Allocating Per-CPU Cpumasks\n\nMesa 24.1 Zink Lands \"Super Fast\" Merge Request To Optimize IO\n\nFedora 41 Looks To \"-O3\" Optimizations For Its Python Build\n\nKDE's Busy Week With Landing Explicit Sync & Many Other Changes\n\nAPT 2.9 Released: Debian's APT 3.0 To Have A New UI With Colors, Columnar\nDisplay & More\n\nShow Your Support, Go Premium\n\nPhoronix Premium allows ad-free access to the site, multi-page articles on a\nsingle page, and other features while supporting this site's continued\noperations.\n\nLatest Featured Articles\n\nUbuntu 24.04 Brings Some Performance Gains For AMD Threadripper 7980X /\nSystem76 Thelio Major\n\nIntel Announces Gaudi 3 AI Accelerator, Intel Xeon 6 Brand\n\nAMD Radeon Linux Gaming Performance At Parity Between KDE Plasma 6.0 X11 vs.\nWayland\n\nIntel Xeon Max Sees Some Performance Gains For OpenVINO & ONNX With Linux 6.9\n\nCrucial T705 PCIe 5.0 NVMe SSD On Linux\n\nSupport Phoronix\n\nThe mission at Phoronix since 2004 has centered around enriching the Linux\nhardware experience. In addition to supporting our site through\nadvertisements, you can help by subscribing to Phoronix Premium. You can also\ncontribute to Phoronix through a PayPal tip or tip via Stripe.\n\nPhoronix Media\n\n  * Contact\n  * Michael Larabel\n  * OpenBenchmarking.org\n\nPhoronix Premium\n\n  * Support Phoronix\n  * While Having Ad-Free Browsing,\n  * Single-Page Article Viewing\n\nShare\n\n  * Facebook\n  * Twitter\n\n  * Legal Disclaimer, Privacy Policy, Cookies | | Contact\n\n  * Copyright \u00a9 2004 - 2024 by Phoronix Media.\n\n  * All trademarks used are properties of their respective owners. All rights reserved.\n\n", "frontpage": true}
