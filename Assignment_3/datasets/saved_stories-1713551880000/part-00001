{"aid": "40086039", "title": "Coupon Collector's Problem", "url": "https://en.wikipedia.org/wiki/Coupon_collector%27s_problem", "domain": "wikipedia.org", "votes": 1, "user": "tosh", "posted_at": "2024-04-19 12:36:04", "comments": 0, "source_title": "Coupon collector's problem", "source_text": "Coupon collector's problem - Wikipedia\n\nJump to content\n\nSearch\n\n# Coupon collector's problem\n\n  * Deutsch\n  * Espa\u00f1ol\n  * Euskara\n  * Fran\u00e7ais\n  * \ud55c\uad6d\uc5b4\n  * \u00cdslenska\n  * Italiano\n  * \u05e2\u05d1\u05e8\u05d9\u05ea\n  * \u65e5\u672c\u8a9e\n  * Polski\n  * Portugu\u00eas\n  * Shqip\n  * T\u00fcrk\u00e7e\n  * \u4e2d\u6587\n\nEdit links\n\nFrom Wikipedia, the free encyclopedia\n\nProblem in probability theory\n\nGraph of number of coupons, n vs the expected number of trials (i.e., time)\nneeded to collect them all, E (T )\n\nIn probability theory, the coupon collector's problem refers to mathematical\nanalysis of \"collect all coupons and win\" contests. It asks the following\nquestion: If each box of a brand of cereals contains a coupon, and there are n\ndifferent types of coupons, what is the probability that more than t boxes\nneed to be bought to collect all n coupons? An alternative statement is: Given\nn coupons, how many coupons do you expect you need to draw with replacement\nbefore having drawn each coupon at least once? The mathematical analysis of\nthe problem reveals that the expected number of trials needed grows as .^[a]\nFor example, when n = 50 it takes about 225^[b] trials on average to collect\nall 50 coupons.\n\n## Solution[edit]\n\n### Via generating functions[edit]\n\nBy definition of Stirling numbers of the second kind, the probability that\nexactly T draws are needed is\n\nBy manipulating the generating function of the Stirling numbers, we can\nexplicitly calculate all moments of T:\n\nIn general, the k-th moment is , where is the derivative operator . For\nexample, the 0th moment is\n\nand the 1st moment is , which can be explicitly evaluated to , etc.\n\n### Calculating the expectation[edit]\n\nLet time T be the number of draws needed to collect all n coupons, and let t_i\nbe the time to collect the i-th coupon after i \u2212 1 coupons have been\ncollected. Then . Think of T and t_i as random variables. Observe that the\nprobability of collecting a new coupon is . Therefore, has geometric\ndistribution with expectation . By the linearity of expectations we have:\n\nHere H_n is the n-th harmonic number. Using the asymptotics of the harmonic\nnumbers, we obtain:\n\nwhere is the Euler\u2013Mascheroni constant.\n\nUsing the Markov inequality to bound the desired probability:\n\nThe above can be modified slightly to handle the case when we've already\ncollected some of the coupons. Let k be the number of coupons already\ncollected, then:\n\nAnd when then we get the original result.\n\n### Calculating the variance[edit]\n\nUsing the independence of random variables t_i, we obtain:\n\nsince (see Basel problem).\n\nBound the desired probability using the Chebyshev inequality:\n\n### Tail estimates[edit]\n\nA stronger tail estimate for the upper tail be obtained as follows. Let denote\nthe event that the -th coupon was not picked in the first trials. Then\n\nThus, for , we have . Via a union bound over the coupons, we obtain\n\n## Extensions and generalizations[edit]\n\n  * Pierre-Simon Laplace, but also Paul Erd\u0151s and Alfr\u00e9d R\u00e9nyi, proved the limit theorem for the distribution of T. This result is a further extension of previous bounds. A proof is found in.^[1]\n\n    \n\n    which is a Gumbel distribution. A simple proof by martingales is in the next section.\n\n  * Donald J. Newman and Lawrence Shepp gave a generalization of the coupon collector's problem when m copies of each coupon need to be collected. Let T_m be the first time m copies of each coupon are collected. They showed that the expectation in this case satisfies:\n\n    Here m is fixed. When m = 1 we get the earlier formula for the expectation.\n\n  * Common generalization, also due to Erd\u0151s and R\u00e9nyi:\n\n  * In the general case of a nonuniform probability distribution, according to Philippe Flajolet et al.^[2]\n\n    This is equal to\n\n    where m denotes the number of coupons to be collected and P_J denotes the probability of getting any coupon in the set of coupons J.\n\n## Martingales[edit]\n\nThis section is based on.^[3]\n\nDefine a discrete random process by letting be the number of coupons not yet\nseen after draws. The random process is just a sequence generated by a Markov\nchain with states , and transition probabilities\n\nNow define\n\nthen it is a martingale, since\n\nConsequently, we have . In particular, we have a limit law for any . This\nsuggests to us a limit law for .\n\nMore generally, each is a martingale process, which allows us to calculate all\nmoments of . For example,\n\ngiving another limit law . More generally,\n\nmeaning that has all moments converging to constants, so it converges to some\nprobability distribution on .\n\nLet be the random variable with the limit distribution. We have\n\nBy introducing a new variable , we can sum up both sides explicitly:\n\ngiving .\n\nAt the limit, we have , which is precisely what the limit law states.\n\nBy taking the derivative multiple times, we find that , which is a Poisson\ndistribution.\n\n## See also[edit]\n\n  * McDonald's Monopoly \u2013 an example of the coupon collector's problem that further increases the challenge by making some coupons of the set rarer\n  * Watterson estimator\n  * Birthday problem\n\n## Notes[edit]\n\n  1. ^ Here and throughout this article, \"log\" refers to the natural logarithm rather than a logarithm to some other base. The use of \u0398 here invokes big O notation.\n  2. ^ E(50) = 50(1 + 1/2 + 1/3 + ... + 1/50) = 224.9603, the expected number of trials to collect all 50 coupons. The approximation for this expected number gives in this case .\n\n## References[edit]\n\n  1. ^ Mitzenmacher, Michael (2017). Probability and computing : randomization and probabilistic techniques in algorithms and data analysis. Eli Upfal (2nd ed.). Cambridge, United Kingdom. Theorem 5.13. ISBN 978-1-107-15488-9. OCLC 960841613.{{cite book}}: CS1 maint: location missing publisher (link)\n  2. ^ Flajolet, Philippe; Gardy, Dani\u00e8le; Thimonier, Lo\u00ffs (1992), \"Birthday paradox, coupon collectors, caching algorithms and self-organizing search\", Discrete Applied Mathematics, 39 (3): 207\u2013229, CiteSeerX 10.1.1.217.5965, doi:10.1016/0166-218x(92)90177-c\n  3. ^ Kan, N. D. (2005-05-01). \"Martingale approach to the coupon collection problem\". Journal of Mathematical Sciences. 127 (1): 1737\u20131744. doi:10.1007/s10958-005-0134-y. ISSN 1573-8795.\n\n  * Blom, Gunnar; Holst, Lars; Sandell, Dennis (1994), \"7.5 Coupon collecting I, 7.6 Coupon collecting II, and 15.4 Coupon collecting III\", Problems and Snapshots from the World of Probability, New York: Springer-Verlag, pp. 85\u201387, 191, ISBN 0-387-94161-4, MR 1265713.\n  * Dawkins, Brian (1991), \"Siobhan's problem: the coupon collector revisited\", The American Statistician, 45 (1): 76\u201382, doi:10.2307/2685247, JSTOR 2685247.\n  * Erd\u0151s, Paul; R\u00e9nyi, Alfr\u00e9d (1961), \"On a classical problem of probability theory\" (PDF), Magyar Tudom\u00e1nyos Akad\u00e9mia Matematikai Kutat\u00f3 Int\u00e9zet\u00e9nek K\u00f6zlem\u00e9nyei, 6: 215\u2013220, MR 0150807.\n  * Laplace, Pierre-Simon (1812), Th\u00e9orie analytique des probabilit\u00e9s, pp. 194\u2013195.\n  * Newman, Donald J.; Shepp, Lawrence (1960), \"The double dixie cup problem\", American Mathematical Monthly, 67 (1): 58\u201361, doi:10.2307/2308930, JSTOR 2308930, MR 0120672\n  * Flajolet, Philippe; Gardy, Dani\u00e8le; Thimonier, Lo\u00ffs (1992), \"Birthday paradox, coupon collectors, caching algorithms and self-organizing search\", Discrete Applied Mathematics, 39 (3): 207\u2013229, doi:10.1016/0166-218X(92)90177-C, MR 1189469.\n  * Isaac, Richard (1995), \"8.4 The coupon collector's problem solved\", The Pleasures of Probability, Undergraduate Texts in Mathematics, New York: Springer-Verlag, pp. 80\u201382, ISBN 0-387-94415-X, MR 1329545.\n  * Motwani, Rajeev; Raghavan, Prabhakar (1995), \"3.6. The Coupon Collector's Problem\", Randomized algorithms, Cambridge: Cambridge University Press, pp. 57\u201363, ISBN 9780521474658, MR 1344451.\n\n## External links[edit]\n\n  * \"Coupon Collector Problem\" by Ed Pegg, Jr., the Wolfram Demonstrations Project. Mathematica package.\n  * How Many Singles, Doubles, Triples, Etc., Should The Coupon Collector Expect?, a short note by Doron Zeilberger.\n\nRetrieved from\n\"https://en.wikipedia.org/w/index.php?title=Coupon_collector%27s_problem&oldid=1205223195\"\n\nCategories:\n\n  * Gambling mathematics\n  * Probability theorems\n  * Probability problems\n\nHidden categories:\n\n  * CS1 maint: location missing publisher\n  * Articles with short description\n  * Short description is different from Wikidata\n  * Articles containing proofs\n\n  * This page was last edited on 9 February 2024, at 04:51 (UTC).\n  * Text is available under the Creative Commons Attribution-ShareAlike License 4.0; additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy. Wikipedia\u00ae is a registered trademark of the Wikimedia Foundation, Inc., a non-profit organization.\n\n  * Privacy policy\n  * About Wikipedia\n  * Disclaimers\n  * Contact Wikipedia\n  * Code of Conduct\n  * Developers\n  * Statistics\n  * Cookie statement\n  * Mobile view\n  * Edit preview settings\n\n", "frontpage": false}
