{"aid": "40014249", "title": "Wilbur: A backtracking and self-training agent for performing tasks on the web", "url": "https://www.bardeen.ai/posts/wilbur-adaptive-in-context-learning-for-robust-and-accurate-web-agents", "domain": "bardeen.ai", "votes": 12, "user": "hartem_", "posted_at": "2024-04-12 15:48:29", "comments": 3, "source_title": "WILBUR: Adaptive In-Context Learning for Robust and Accurate Web Agents", "source_text": "WILBUR: Adaptive In-Context Learning for Robust and Accurate Web Agents\n\n## Automate apps & websites with AI in seconds\n\nBardeen is the most popular Chrome Extension to automate your apps. Trusted by\nover 200k users.\n\nTry it\n\nLearn More\n\n## Automate apps & websites with AI in seconds\n\nBardeen is the most popular Chrome Extension to automate your apps. Trusted by\nover 200k users.\n\nTry it\n\nLearn More\n\n## Automate apps & websites with AI in seconds\n\nTry it\n\nLearn More\n\n## Automate apps & websites with AI in seconds\n\nBardeen is the most popular Chrome Extension to automate your apps. Trusted by\nover 200k users.\n\nTry it\n\nLearn More\n\nArtificial Intelligence\n\n# WILBUR: Adaptive In-Context Learning for Robust and Accurate Web Agents\n\nLast Updated on\n\nApril 11, 2024\n\nby:\n\nThis is some text inside of a div block.\n\nThis is some text inside of a div block.\n\nArtem Harutyunyan\n\nCo-founder & CTO\n\nMichael Lutz\n\nML\n\nArth Bohra\n\nML\n\nThis was originally posted by our ML research team on https://michael-\nlutz.github.io/WILBUR/. You can find the full published paper here.\n\n### Abstract\n\nIn the realm of web agent research, achieving both generalization and accuracy\nremains a challenging problem. Due to high variance in website structure,\nexisting approaches often fail. Moreover, existing fine-tuning and in-context\nlearning techniques fail to generalize across multiple websites. We introduce\nWILBUR, an approach that uses a differentiable ranking model and a novel\ninstruction synthesis technique to optimally populate a black-box large\nlanguage model\u2019s prompt with task demonstrations from previous runs. To\nmaximize end-to-end success rates, we also propose an intelligent backtracking\nmechanism that learns and recovers from its mistakes. Finally, we show that\nour ranking model can be trained on data from a generative auto-curriculum\nwhich samples representative goals from an LLM, runs the agent, and\nautomatically evaluates it, with no manual annotation. WILBUR achieves state-\nof-the-art results on the WebVoyager benchmark, beating text-only models by 8%\noverall, and up to 36% on certain websites. On the same benchmark, WILBUR is\nwithin 5% of a strong multi-modal model despite only receiving textual inputs,\nand further analysis reveals a substantial number of failures are due to\nengineering challenges of operating the web.\n\n## Architecture\n\nGiven the goal and the current state of the page, Wilbur repeatedly executes\nactions until the task is predicted to have finished or until backtracking is\nnecessary.\n\nAt each step of the execution, Wilbur makes use of the following sub-modules:\n\n  1. The demonstration retriever queries a demonstration bank of full-length trajectories and finds the relevant ones; individual action demonstrations are also queried. The retriever obtains both positive (successful) and negative (unsuccessful) demonstrations.\n  2. The knowledge synthesizer summarizes the demonstrations into a description of learnings; demonstrations are summarized separately.\n  3. The actor references demonstrations and learnings to predict an action, given the current state, next step plan from previous step, and feedback if returning from a backtrack.\n  4. The executor performs the action on the website and obtains the new observable state as well as execution feedback.\n  5. The reflection module compares the old and new states before determining whether to backtrack, continue, or finish; it updates feedback for backtracking or plans the next step if continuing.\n  6. At the end of an execution, the answer module produces the textual response required by the goal using the final observable state, and agent's trajectory.\n\n## Action Demonstration Ranking\n\nIn order to have action demonstrations scale across multiple websites and\ntypes of pages (e.g. search pages, documentation, etc.), the quality of action\ndemonstrations is important. To that end, a simple cosine similarity is not\nsufficient to determine whether a demonstration will actively help the actor.\nWhile a demonstration might be similar, there may exist slight differences in\nrespective DOMs that lead the actor astray.\n\nThe ranking model is an MLP that encodes the embeddings of the demonstrations\n(observation, plan, action) as well as the current observation and plan, and\nit is trained to predict whether a demonstration leads to a successful\nexecution or not, as a 0-1 score. After computing the score of each\ndemonstrations and normalizing with softmax, we then sample successful\nexecutions to include in the actor's context.\n\n### WILBUR is a graph traverser\n\nAfter an action is taken, WILBUR checks if the executed action achieved its\nintended step and is making progress toward the goal.\n\nv, \u03c6, p\u2032 = Reflect(o, o\u2032, a, p, g)\n\nwhere v is a ternary verdict:\n\n  * FINISH: the current goal was completed successfully\n  * CONTINUE: proceed by completing planned step p\u2032 next\n  * BACKTRACK: backtrack and utilize feedback \u03c6\u2032\n\nThe reflector uses both a rule-based comparison algorithm that checks for\nstate changes, and an LLM to compute the verdict.\n\nIf the agent backtracks, it returns to the most recent observation that is\nsafe to return to. Because the backend is real and not simulated, not all\nstate changes can be reverted. In the current implementation, WILBUR returns\nto the most recent state that corresponded to a navigation (change in page\nURL). The new state is applied by that refreshing or navigating to that URL,\nwhich resets the DOM on the page.\n\n### WILBUR learns from an autocurriculum\n\nIn order to populate WILBUR's demonstration banks and train our knowledge\nmodel, we build a multi-step auto-curriculum to collect reference\ntrajectories.\n\n  1. An auto-curriculum is run on a batch of websites and record predicted end-to-end success using an execution evaluation language model.\n  2. A more challenging goal-generation process is run conditioned on initial goals and utilizing task and goal demonstrations from trajectories recorded in the first step.\n  3. We train our knowledge model to predict success likelihood of actions in the follow-up run which reference demonstrations in the first run.\n\nOur autocurriculum is generated through LLM generated goals, where given a set\nof websites, we query a model to generate realistic use-cases. To actually\nevaluate the agent's execution on a goal from the auto-curriculum, we model\nself-evaluation r \u2208 [0, 1] as a function of the agent\u2019s execution trajectory \u03c4\nand returned text answer. Essentially, r is the LLM's evaluation of success of\nthe agent's execution trajectory with regards to the goal's requirements.\n\nUsing the Autocurriculum to Train the Knowledge Model: The first run of auto-\ncurriculum generates demonstrations queried during the second run of the auto-\ncurriculum. As such, the follow-up run generates training data for the\nknowledge model. We train the knowledge model to predict action success as\nestimated in the reflection step, using binary cross-entropy loss.\n\nOn the WebVoyager benchmark using the experimental setup outlined in the\npaper, WILBUR outperforms the state-of-the-art text-only model by 8%.\nSpecifically, we observe that WILBUR outperforms the SOTA model on most\nwebsites except Github and the Google websites.\n\nIt improves substantially on the very hard Booking.com case, from around 2.4%\nto 39%. WILBUR is also within 5% of the multimodal model, which has access to\nscreenshots during execution, and outperforms it on Allrecipes, ArXiv,\nBooking.com, ESPN, Cambridge Dictionary, BBC News, and Wolfram.\n\nComparing against the ablation baselines, we observe that the naive zero-shot\nbaseline is significantly worse than the state of the art, but adding\nbacktracking is enough to come close to the state-of-the-art result. Adding\ntask demonstrations improves to 50%, showing the value of recalling previous\nexperiences from auto-curriculum. Finally, the use of the fine-tuned\ndemonstration retrieval model further improves by 3% overall, highlighting the\nimportance of selecting high-quality task demonstrations.\n\n## BibTeX\n\n@misc{lutz2024wilbur, title={WILBUR: Adaptive In-Context Learning for Robust\nand Accurate Web Agents}, author={Michael Lutz and Arth Bohra and Manvel\nSaroyan and Artem Harutyunyan and Giovanni Campagna}, year={2024},\neprint={2404.05902}, archivePrefix={arXiv}, primaryClass={cs.CL} }\n\nContents\n\nArchitecture\n\nAction Demonstration Ranking\n\nBibTeX\n\n### More articles from Bardeen\n\nComparing Top 8 AI Web Scraping Tools (updated 2024)\n\nBy\n\nChang Chen\n\n\u2022\n\nScraper\n\nNEEDS based selling & automation: your way to 5x sales in 2024\n\nBy\n\nBardeen\n\n\u2022\n\nSales Process\n\nImprove 2024 Challenger sales bottom line with task automation\n\nBy\n\nBardeen\n\n\u2022\n\nSales Process\n\nScaling the boring parts of the SNAP selling method (in 2024)\n\nBy\n\nBardeen\n\n\u2022\n\nSales Process\n\nHow to 5x SPIN sales in 2024 using workflow and task automation (with AI)\n\nBy\n\nBardeen\n\n\u2022\n\nSales Process\n\nN.E.A.T. selling in 2024: close more with AI workflow automation\n\nBy\n\nBardeen\n\n\u2022\n\nSales Process\n\nLinkedIn\n\nHow to Export Lead List from Sales Navigator\n\nLearn how to export lead lists from LinkedIn Sales Navigator using third-party\ntools or CRM integrations. Streamline your lead management process.\n\nBy\n\nThis is some text inside of a div block.\n\n\u2022\n\nThis is some text inside of a div block.\n\nLinkedIn\n\nHow to Find Former Employees of a Company on LinkedIn\n\nLearn to find former employees on LinkedIn using search filters, company\npages, Alumni Tool, and advanced techniques for networking.\n\nBy\n\nThis is some text inside of a div block.\n\n\u2022\n\nThis is some text inside of a div block.\n\nGoogle Sheets\n\nHow to Convert Fraction to Percent in Google Sheets\n\nLearn to convert fractions to percentages in Google Sheets using simple\nformulas and formatting. Ideal for data analysis and calculations.\n\nBy\n\nThis is some text inside of a div block.\n\n\u2022\n\nThis is some text inside of a div block.\n\nget bardeen\n\n### Don't just connect your apps, automate them.\n\n200,000+ users and counting use Bardeen to eliminate repetitive tasks\n\nGet started for free\n\nEffortless setup\n\nAI powered workflows\n\nFree to use\n\nFeatured Workflows\n\nAutomatically find Company website from HubSpot comparing name form Google\nSheets\n\nScrape LinkedIn post reactions and send engagement note to HubSpot\n\nOpen HubSpot Company page before meeting\n\nAdd WhatsApp Contact to HubSpot\n\nSend outreach email to HubSpot Contacts and Update their lead status\n\nAutomatically send an Alert notification in Slack when a new HubSpot lead is\ngenerated\n\nAdd new deals from Google Sheets to HubSpot\n\nExport deals from HubSpot to Google Sheets and Share link via Slack\n\nMigrate HubSpot Contacts to SalesForce\n\nSync LinkedIn Messages to HubSpot Contact\n\nAdd all contacts from LinkedIn Sales Navigator To Hubspot\n\nScrape a website and Import all emails to HubSpot\n\nGet Instagram profile data from profile links in Microsoft Excel\n\nCopy a Notion database to a Microsoft Excel\n\nFind all emails from a list of websites in Microsoft Excel\n\nSave Facebook pages from search to Microsoft Excel\n\nSave Facebook page to Microsoft Excel\n\nSave Facebook group members to Microsoft Excel\n\nSave the current pages' Facebook profile to Microsoft Excel\n\nGet Facebook profile page info from a list of links in Microsoft Excel\n\nGet a YouTube transcript for the current video in a Microsoft Excel Workbook\n\nGet tweets for a keyword and save them to Microsoft Excel\n\nSave all opened browser tabs to Microsoft Excel\n\nSave information from Google Maps search results to Microsoft Excel\n\nPRODUCT\n\nDownloadPlatform capabilitiesHow it worksMagic boxNo-code builderRelease Notes\n\nSOLUTIONS\n\nSalesRecruiting & TalentFoundersScraperMarket ResearchPersonal\nProductivityMeetings\n\nAbout\n\nPricingAbout us ManifestoResearchCareersContact\n\nRESOURCES\n\nAll playbooksAll integrationsCustomer StoriesBlogKnowledge CenterCommunity\n\u2197Press\n\nTools\n\nAnswersInstant Data ScraperAI Automation GuideAI Sales Automation\nGuideArtificial IntelligenceNotion Automation Hub \u2197\n\nPopular\n\nGoogle Sheets CalendarMass delete Gmail emailsRemove duplicates Google\nSheetsScrape website without codeSave RemoteOK job to Notion\n\nComparing Top 8 AI Web Scraping Tools (updated 2024)\n\nBest AI automations for HubSpot CRM\n\nHow sales use AI web agents to generate leads, prospect, reach out, and scrape\n\nN.E.A.T. selling in 2024: close more with AI workflow automation\n\nHow to 5x SPIN sales in 2024 using workflow and task automation (with AI)\n\nfollow\n\nYoutube \u2197\n\nLinkedin \u2197\n\nX / Twitter \u2197\n\nBardeen is named a High Performer for Workflow Management and Productivity\nBots\n\n\u00a9 2024 Bardeen. All rights reserved.\n\nPrivacy PolicyTerms of ServiceSecurity & PrivacyCookie Settings\n\nBardeen\n\nAbout\n\nAbout\n\nCareers\n\n3\n\nContact\n\nSecurity\n\nAffiliate Program\n\nProduct\n\nBuilder\n\nScraper\n\nAI meets automations\n\nRelease Notes\n\nPricing\n\nExplore\n\nUse Cases\n\nPlaybooks\n\nAutobooks\n\nScraper\n\nIntegrations\n\nResources\n\nGetting started\n\nCommunity\n\nTutorials\n\nBlog\n\nCustomer Stories\n\nYouTube\n\nFAQ\n\nUse Cases\n\nSales\n\nMarketing\n\nMeetings\n\nRecruiting\n\nProduct Development\n\nData Research\n\nPersonal Productivity\n\nIntegrations\n\nGoogle Sheets\n\nPipedrive\n\nAirtable\n\nGoogle Calendar\n\nNotion\n\nClearbit\n\nSlack\n\nGoogle Mail\n\nGithub\n\nGoogle Calendar\n\nGoogle Docs\n\nGoogle Drive\n\nGoogle Mail\n\nGoogle Meet\n\nGoogle Sheets\n\nShow all\n\nMiscellaneous\n\nAI Automation Guide\n\nNotion Automation Hub\n\nDream Job Hub\n\nStartup School OS\n\nIntegration Request\n\nFeature Request\n\nBug Report\n\nDownload\n\nBardeen is named a High Performer for Workflow Management and Productivity\nBots\n\n\u00a9 Copyright 2024 Bardeen Inc. All rights reserved.\n\nPrivacy Policy\n\nSecurity & Privacy\n\nTerms of Service\n\nCookie Policy\n\nBy clicking \u201cAccept\u201d, you agree to the storing of cookies. View our Privacy\nPolicy for more information.\n\nAcceptDenyPreferences\n\n", "frontpage": false}
