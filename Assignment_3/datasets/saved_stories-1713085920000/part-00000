{"aid": "40028338", "title": "Making Truth Social Comply with the AGPL", "url": "https://boehs.org/node/truth-social", "domain": "boehs.org", "votes": 82, "user": "Tomte", "posted_at": "2024-04-14 03:10:40", "comments": 4, "source_title": "You Have Power: Making Truth Social Comply With The AGPL", "source_text": "You Have Power: Making Truth Social Comply With The AGPL\n\nEvan Boehs email United States is high on life\n\n# You Have Power: Making Truth Social Comply With The AGPL\n\nin\n\n    blog\ndate\n\n    4/13/2024\n\nA hot minute ago, there was this interesting trend of Republicans being\nostracized by mainstream social media, then forming their own. In these\nplaces, their version of the truth can proliferate without the moderation\nthey\u2019ve grown to despise. To do this, the conventional strategy is to reskin\nopen-source social media platforms without attribution. There is, of course, a\ncertain irony to the fact that the labor they exploit is frequently performed\nby liberals, queers, socialists, and other groups they\u2019ve sworn to destroy,\nbut I digress.\n\nLuckily, the platforms they leech off are not entirely defenseless. The code\nof Mastodon is released under the AGPL, a strict open source license that\nprevents redistribution without disclosure of derivative source code. Both gab\nand Truth Social have been identified as derivative work of Mastodon, and\nhence both are bound by the provisions of the AGPL. Mastodon has successfully\ndefended its codebase a number of times, including in 2021, when they\nsuccessfully convinced Truth Social to release its code. Truth Social\ncontinued these releases until December 20th, 2022, when the uploads stopped.\nHow embarrassing.\n\nTo conduct a request under the AGPL, I need to prove that Truth Social uses\nAGPL licensed code, and that I have accessed said code. The latter is\nincredibly easy \u2014 the login page fetches /api/v1/instance, which is a pretty\ndistinct Mastodon characteristic. Still, what\u2019s to say that they didn\u2019t just\ndo a faithful, clean room implementation of the Mastodon API? The login page\nsource code makes zero reference to \u2018Mastodon\u2019, so I was playing with this\nfamiliar API looking for a tell.\n\nYeah, I think I found it.\n\nWith this in mind, I set my sights on the legal department. Somehow, I doubted\nthey would reply to me.\n\nI also started poking around on the frontend, which is unambiguously powered\nby Soapbox, another piece of software licensed under the AGPL.\n\nThey also make \u201copen source\u201d releases of Soapbox. I was curious if these\nreleases would be up-to-date (they aren\u2019t), but what I found was really quite\ninteresting:\n\nSimply uploading your compiled code and calling it \u201copen source\u201d does not\ncount as compliance, even if it was up-to-date.\n\nAt this point, the SFC was taking interest. While I have more than enough\ngrounds for the above request, if they don\u2019t comply, the next challenge before\na public expos\u00e9 is proving that the Mastodon codebase has actually been\nchanged since its last open source release. This, of course, is incredibly\nplausible, given the frontend code obviously has. But we need proof.\n\nKindly, I was provided with a Truth Social account (I do not want my phone\nnumber on there, in the event that a little birdie gives maia arson crimew\nanother issue of \u201cthe shitposters\u201d). I then clicked around, and discovered the\nfollowing endpoints in a minute:\n\n    \n    \n    /api/v4/truth/ads?device=desktop /api/v1/truth/policies/pending /api/v1/truth/carousels/suggestions /api/v1/truth/policies/pending /api/v1/groups/tags\n\nUnsurprisingly, Mastodon does not have an ads endpoint. It also doesn\u2019t have a\nv4 API. Neither does the open source release.\n\nThe truth directory does exist. It\u2019s at /app/controllers/api/v1/truth/.\nUnfortunately for Trump Media & Technology Group, the files are missing here.\n\n    \n    \n    $ tree app/controllers/api/v1/truth app/controllers/api/v1/truth \u251c\u2500\u2500 admin \u2502 \u2514\u2500\u2500 accounts_controller.rb \u251c\u2500\u2500 emails_controller.rb \u251c\u2500\u2500 passwords_controller.rb \u2514\u2500\u2500 trending \u2514\u2500\u2500 truths_controller.rb $ rg carousels | wc -l 0\n\nOf course, Republicans are categorically inclusive, which is why they bundle\ncode from a third fediverse codebase that\u2019s AGPL licensed \u2014 Pleroma:\n\n(nice localization, btw).\n\nI was, of course, expecting this to go nowhere. I\u2019m just Evan. TMTG could just\ndrag their feet with the hopes that I give up. I, of course, had no intent of\ndoing so \u2014 I was very serious when I said that I would take this matter to the\npress if I had to. Surprisingly, however, this story doesn\u2019t end with a public\nboxing match between me and the 45th president. I decided that I would give\nthem 7 days before escalating. This weekend, I received an email stating that\nthey had complied \u2014 2 days before my internal deadline. I checked the source\ncode and sure enough, it is up-to-date as far as I can tell. I\u2019ve released it\nhere:\n\nAutomatically updated dump of Truth Social\u2019s source code (reskinned Mastodon)\n\nOnce again, this was absolutely not the outcome I expected. Some people might\nbe disappointed by it. I might be relieved. After I sent that email, I was a\nlittle worried about what I was getting myself into. The Truth Social Legal\nTeam. Imagine. But it went my way. The real takeaway is that you do have\npower. Don\u2019t be scared of the big guys. Speak their language, play on their\ncourt. Stand up for what you believe in. You can win.\n\nIn terms of the code \u2014 I haven\u2019t looked at it yet. It\u2019s diverged significantly\nfrom Mastodon, but the resemblance is there. They\u2019ve cherry-picked specific\ncommits from upstream, but not all of them. I\u2019m sure there are some goodies to\nbe found. I encourage all of you to go looking for them alongside me, as that\nis your right. Tell me what you find. God speed.\n\nEvan Boehs /node/truth-social\n\n    \n    \n    _ /`\\ ( /`\\ (_) /`\\ // \\\\ )) // \\\\ // \\\\ // \\\\ /`\\_____|| // \\\\ // \\\\ // \\\\ // / \\ /`\\ // \\\\ // \\\\ // \\\\ ///_________\\// \\\\// \\\\ // \\\\ // \\\\ // |-[+]---| // \\\\// \\\\ // \\\\ // \\\\ // |-------| // \\\\// \\\\ _____,....-----'------'-----''-------'---'----'--\n\n", "frontpage": true}
