{"aid": "39965276", "title": "Chela: Small URL Shortener", "url": "https://github.com/secondary-smiles/chela", "domain": "github.com/secondary-smiles", "votes": 1, "user": "subtract-smiles", "posted_at": "2024-04-08 00:56:24", "comments": 0, "source_title": "GitHub - secondary-smiles/chela: Minimal URL Shortener", "source_text": "GitHub - secondary-smiles/chela: Minimal URL Shortener\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nsecondary-smiles / chela Public\n\n  * Notifications\n  * Fork 0\n  * Star 0\n\nMinimal URL Shortener\n\n0 stars 0 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# secondary-smiles/chela\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n3 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nsecondary-smilesUse proper IP address when behind proxy938be89 \u00b7\n\n## History\n\n20 Commits  \n  \n### .github/workflows\n\n|\n\n### .github/workflows\n\n| Add docker action  \n  \n### src\n\n|\n\n### src\n\n| Use proper IP address when behind proxy  \n  \n### .dockerignore\n\n|\n\n### .dockerignore\n\n| Add proxy support  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| Implement get  \n  \n### Cargo.lock\n\n|\n\n### Cargo.lock\n\n| Use proper IP address when behind proxy  \n  \n### Cargo.toml\n\n|\n\n### Cargo.toml\n\n| Use proper IP address when behind proxy  \n  \n### Dockerfile\n\n|\n\n### Dockerfile\n\n| Add proxy support  \n  \n### README.md\n\n|\n\n### README.md\n\n| Fix typo in README.md  \n  \n### flake.lock\n\n|\n\n### flake.lock\n\n| Implement get  \n  \n### flake.nix\n\n|\n\n### flake.nix\n\n| Fix flake.nix description  \n  \n## Repository files navigation\n\n# Chela\n\nChela is a minimal URL shortener built in Rust. It is named after the small\nclaw on crustaceans.\n\n## Usage\n\nYou can create a redirect by navigating to the /create page and filling out\nthe form. By default, every path passed to Chela will be treated as a redirect\nexcept / and /create.\n\n## Install and Run\n\n### With Docker\n\n#### CLI\n\n    \n    \n    $ docker run -d \\ -p 3000:3000 \\ -e DATABASE_URL=postgres://chela:password@dbhost/postgres?sslmode=disable \\ -e CHELA_HOST=a.com \\ secondsmiles/chela\n\n#### Docker Compose\n\n    \n    \n    services: chela-postgres: image: postgres:15 environment: - POSTGRES_USER=chela - POSTGRES_PASSWORD=password volumes: - chela-db:/var/lib/postgresql/data restart: unless-stopped chela: image: secondsmiles/chela ports: - 3000:3000 environment: - DATABASE_URL=postgres://chela:password@chela-postgres/postgres?sslmode=disable - CHELA_HOST=a.com - CHELA_MAIN_PAGE_REDIRECT='https://example.com' - CHELA_BEHIND_PROXY=1 depends_on: - chela-postgres restart: unless-stopped volumes: chela-db:\n\n#### Environment Variables\n\n##### DATABASE_URL\n\nUsed to define the database connection for Chela to use.\n\n##### CHELA_HOST\n\nThe hostname that Chela should refer to itself as. Defaults to localhost.\n\n##### CHELA_LISTEN_ADDRESS\n\nThe address that Chela should listen on. Defaults to 0.0.0.0.\n\n##### CHELA_MAIN_PAGE_REDIRECT\n\nA page that Chela will redirect to when / is requested instead of replying\nwith the default homepage.\n\n##### CHELA_BEHIND_PROXY\n\nIf this variable is set, Chela will use the X-Real-IP header as the client IP\naddress rather than the connection address.\n\n##### CHELA_UNIX_SOCKET\n\nIf you would like Chela to listen for HTTP requests over a Unix socket, set\nthis variable to the socket path that it should use. By default, Chela will\nlisten via a Tcp socket.\n\n##### CHELA_ALPHABET\n\nIf this variable is set, Chela will use the characters in CHELA_ALPHABET to\ncreate IDs for URLs. The default alphabet is\nabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ. See here for more\ninformation on Sqids alphabets.\n\n### Manually\n\n#### Build\n\n    \n    \n    $ git clone https://github.com/secondary-smiles/chela.git $ cd chela $ cargo build -r\n\n#### Run\n\n    \n    \n    $ export DATABASE_URL=postgres://chela:password@dbhost/postgres?sslmode=disable $ export CHELA_HOST=a.com $ export CHELA_LISTEN_ADDRESS=127.0.0.1 $ ./target/release/chela\n\n## Hosting\n\nChela uses the axum to manage HTTP requests, so it is possible to expose it\ndirectly to the outer internet. However, there is no authentication for the\n/create endpoint so anyone will be able to create redirects.\n\nIf you would prefer to be the only one able to create redirects, then you can\nproxy Chela through Nginx with http-basic-auth. Refer to this documentation\nfor more information.\n\n    \n    \n    server { server_name example.com; location / { proxy_pass http://localhost:3000/; proxy_set_header X-Real-IP $remote_addr; limit_except GET HEAD { auth_basic 'Restricted'; auth_basic_user_file /path/to/your/.htpasswd; } } }\n\n## About\n\nMinimal URL Shortener\n\n### Topics\n\nrust docker-compose url-shortener unix-socket\n\n### Resources\n\nReadme\n\nActivity\n\n### Stars\n\n0 stars\n\n### Watchers\n\n1 watching\n\n### Forks\n\n0 forks\n\nReport repository\n\n## Releases\n\n3 tags\n\n## Languages\n\n  * Rust 95.2%\n  * Nix 3.5%\n  * Dockerfile 1.3%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
