{"aid": "40020846", "title": "Clavus - a command-line tool to manage configurations", "url": "https://github.com/peter-mbx/clavus", "domain": "github.com/peter-mbx", "votes": 2, "user": "pietrom93", "posted_at": "2024-04-13 05:56:10", "comments": 0, "source_title": "GitHub - peter-mbx/clavus: Clavum Lateris", "source_text": "GitHub - peter-mbx/clavus: Clavum Lateris\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\npeter-mbx / clavus Public\n\n  * Notifications\n  * Fork 0\n  * Star 3\n\nClavum Lateris\n\n### License\n\nMIT license\n\n3 stars 0 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# peter-mbx/clavus\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n1 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\npeter-mbxUpdate README.md6278004 \u00b7\n\n## History\n\n20 Commits  \n  \n### .github/workflows\n\n|\n\n### .github/workflows\n\n| amend  \n  \n### Formula/c\n\n|\n\n### Formula/c\n\n| Portfile, self-hosted homebrew Formula  \n  \n### ports/devel/clavus\n\n|\n\n### ports/devel/clavus\n\n| Portfile, self-hosted homebrew Formula  \n  \n### src\n\n|\n\n### src\n\n| fix when dir not exists  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| Portfile, self-hosted homebrew Formula  \n  \n### Cargo.lock\n\n|\n\n### Cargo.lock\n\n| added Command to config  \n  \n### Cargo.toml\n\n|\n\n### Cargo.toml\n\n| added Command to config  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| LICENSE  \n  \n### README.md\n\n|\n\n### README.md\n\n| Update README.md  \n  \n## Repository files navigation\n\n# Clavus\n\n### Clavum Lateris\n\n#### In vetusta bibliotheca, clavum lateris aperiebat fores librarii occultum,\nubi sapientia et arcana conservabantur.\n\n## Description\n\nA lightweight command-line tool designed for anyone in the tech field,\nspecially for IT consultants or professionals managing multiple clients\nenvironments. This tool simplifies the management of configurations on your\nmachine, allowing you to configure your environment and load the necessary\nresources, like files and/or commands.\n\n## Installation\n\nClone the repository:\n\n    \n    \n    git clone https://github.com/peter-mbx/clavus.git\n\nBuild the project:\n\n    \n    \n    cargo build --release\n\nRun the executable:\n\n    \n    \n    ./target/release/clavus\n\n## Usage\n\n    \n    \n    clavus [OPTIONS] <SUBCOMMAND> OPTIONS: -h, --help Print help information -V, --version Print version information SUBCOMMANDS: state Show state file status Show current status list List configurations up Activate a configuration down Deactivate a configuration config Edit configurations\n\n## Main Commands\n\n### Show State File\n\n    \n    \n    clavus state\n\n### Show Current Status\n\n    \n    \n    clavus status\n\n### List Configurations\n\n    \n    \n    clavus list\n\n### Activate Configuration\n\n    \n    \n    clavus up --config-name <name>\n\n### Deactivate Configuration\n\n    \n    \n    clavus down\n\n## Configurations Commands\n\n### Create New Configuration\n\n    \n    \n    clavus config new --config-name <name>\n\n### Delete Configuration\n\n    \n    \n    clavus config delete --config-name <name>\n\n### Add File to Configuration\n\n    \n    \n    clavus config add-file --config-name <name> --id <id> --source <source_path> --target <target_path>\n\n### Delete File from Configuration\n\n    \n    \n    clavus config delete-file --config-name <name> --id <id>\n\n### Add Command to Configuration\n\n    \n    \n    clavus config add-command --config-name <name> --id <id> --up <up_command> --down <down_command>\n\n### Delete Command from Configuration\n\n    \n    \n    clavus config delete-command --config-name <name> --id <id>\n\n## About\n\nThe tool reads and writes its state file in JSON format, typically located at\n~/.clavus/state.json. This file stores all information about existing\nconfigurations, such as files and commands associated with each configuration.\nManual editing of this file is not recommended, as it may corrupt the tool's\nfunctionality. Files are stored as content in Base64 format, retaining their\noriginal permissions. This means that if a source file has permissions set to\nmode 664 (readonly=false for Windows), these permissions are replicated to the\ntarget path when the configuration is activated. If a file already exists in\nthe target path, its content is saved in the state file as 'old_content' and\nits permissions as 'old_permissions'. This allows the file to be restored to\nits previous state, with its original permissions and content, when the\nconfiguration is deactivated. I am currently developing support for remotely\nmanaging the state file, such as from an AWS bucket, allowing all\nconfigurations to be accessed from multiple devices.\n\n### An example of a state file with one configuration:\n\n    \n    \n    { \"configs\": [ { \"name\": \"main\", \"files\": [ { \"id\": \"gitconfig\", \"target\": \"/Users/pietro/.gitconfig\", \"content\": \"W3VzZXJdCgluYW1lID0gUGlldHJvIE1vYnJpY2kKCWVtYWlsID0gcGlldHJvLm1vYnJpY2lAZ21haWwuY29tCg==\", \"old_content\": null, \"permissions\": { \"mode\": \"644\", \"readonly\": false }, \"old_permissions\": null }, { \"id\": \"sshconfig\", \"target\": \"/Users/pietro/.ssh/config\", \"content\": \"SG9zdCBnaXRodWIuY29tCkhvc3ROYW1lIGdpdGh1Yi5jb20KSWRlbnRpdHlGaWxlIH4vLnNzaC9rZXkucHJpdgo=\", \"old_content\": null, \"permissions\": { \"mode\": \"644\", \"readonly\": false }, \"old_permissions\": null }, { \"id\": \"sshkey\", \"target\": \"/Users/pietro/.ssh/key.priv\", \"content\": \"LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KY29udGVudAotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K\", \"old_content\": null, \"permissions\": { \"mode\": \"400\", \"readonly\": true }, \"old_permissions\": null }, { \"id\": \"aws\", \"target\": \"/Users/pietro/.aws/config\", \"content\": \"W3Byb2ZpbGUgbWFpbl0KYXdzX2FjY2Vzc19rZXlfaWQgPSBhY2Nlc3MKYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gc2VjcmV0CnJlZ2lvbiA9IHVzLWVhc3QtMQpvdXRwdXQgPSBqc29uCg==\", \"old_content\": null, \"permissions\": { \"mode\": \"644\", \"readonly\": false }, \"old_permissions\": null } ], \"commands\": [ { \"id\": \"salute\", \"up\": \"echo 'Hello, World!'\", \"down\": \"echo 'Goodbye, World!'\" } ] } ], \"active\": \"\" }\n\n## Dependencies (crates)\n\n    \n    \n    base64 clap colored dirs once_cell serde serde_json which\n\n## Disclaimer\n\nI am relatively new to Rust and have been learning the language for just 1\nmonth. While I strive to write clean and efficient code, it's important to\nnote that there may be instances of suboptimal or non-idiomatic Rust practices\nin this project. I welcome feedback and suggestions from experienced Rust\ndevelopers to improve the quality of this project and my understanding of the\nlanguage.\n\n## Author\n\n    \n    \n    Pietro Mobrici pietro.mobrici@gmail.com\n\n## About\n\nClavum Lateris\n\n### Resources\n\nReadme\n\n### License\n\nMIT license\n\nActivity\n\n### Stars\n\n3 stars\n\n### Watchers\n\n2 watching\n\n### Forks\n\n0 forks\n\nReport repository\n\n## Releases 1\n\n0.0.1 Latest\n\nApr 10, 2024\n\n## Packages 0\n\nNo packages published\n\n## Languages\n\n  * Rust 92.4%\n  * Tcl 5.4%\n  * Ruby 2.2%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
